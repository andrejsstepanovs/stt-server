services:
  stt:
    build: .
    container_name: stt
    restart: unless-stopped
    ports:
      - "8000:8000"
    
    # --- AUDIO CONFIGURATION ---
    devices:
      - "/dev/snd:/dev/snd"
    
    # Optional: ensure container has permission to access audio group
    group_add:
      - audio

    environment:
      - PYTHONUNBUFFERED=1
